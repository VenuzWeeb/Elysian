package me.frogdog.hecks.module.modules.exploit;

import me.frogdog.hecks.module.ModuleType;
import me.frogdog.hecks.module.ToggleableModule;
import me.frogdog.hecks.property.Property;
import net.minecraft.block.Block;
import net.minecraft.init.Items;
import net.minecraft.item.Item;
import net.minecraftforge.fml.common.gameevent.TickEvent;

public final class FastPlace extends ToggleableModule {
    private final Property<Boolean> blocks = new Property<Boolean>(false, "Blocks", "b");
    private final Property<Boolean> xp = new Property<Boolean>(false, "Exp", "e");
    private final Property<Boolean> endCrystal = new Property<Boolean>(false, "EndCrystal", "ec");

    public FastPlace() {
        super("FastPlace", new String[] {"FastPlace", "fastplace"}, "Allows you the use faster", ModuleType.EXPLOIT);
        this.offerProperties(this.blocks, this.xp, this.endCrystal, this.keybind);
    }

    @Override
    public void update(TickEvent event) {
        if (Block.getBlockFromItem(mc.player.getHeldItemMainhand().getItem()).getDefaultState().isFullBlock() && blocks.getValue() == true) {
            mc.rightClickDelayTimer = 0;
        }

        if (getHeldItem(Items.EXPERIENCE_BOTTLE) && xp.getValue() == true) {
            mc.rightClickDelayTimer = 0;
        }

        if (getHeldItem(Items.END_CRYSTAL) && endCrystal.getValue() == true) {
            mc.rightClickDelayTimer = 0;
        }
    }

    public boolean getHeldItem(Item item) {
        return mc.player.getHeldItemMainhand().getItem().equals(item);
    }

}
